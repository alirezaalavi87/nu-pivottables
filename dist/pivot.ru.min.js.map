{"version":3,"sources":["pivot.ru.coffee"],"names":["pivotModule","$","nf","pivotUtilities","numberFormat","tpl","aggregatorTemplates","frFmt","thousandsSep","decimalSep","frFmtInt","digitsAfterDecimal","frFmtPct","scaler","suffix","locales","ru","localeStrings","renderError","computeError","uiRenderError","selectAll","selectNone","tooMany","filterResults","totals","vs","by","aggregators","Кол-во","count","Кол-во уникальных","countUnique","Список уникальных","listUnique","Сумма","sum","Сумма целых","Среднее","average","Минимум","min","Максимум","max","Сумма по сумме","sumOverSum","80% верхней границы","sumOverSumBound80","80% нижней границы","Доля по всему","fractionOf","Доля по строке","Доля по столбцу","Кол-во по всему","Кол-во по строке","Кол-во по столбцу","renderers","Таблица","График столбцы","Тепловая карта","Тепловая карта по строке","Тепловая карта по столбцу","exports","module","require","define","amd","jQuery"],"mappings":"AAAA,CAAA,WAAA,IAAkBA,EASH,SAACC,GAChB,IAAIC,EAAKD,EAAEE,eAAeC,aACtBC,EAAMJ,EAAEE,eAAeG,oBAEvBC,EAAWL,EAAG,CAAAM,aAAc,IAAKC,WAAY,GAA/B,CAAH,EACXC,EAAWR,EAAG,CAAAS,mBAAoB,EAAGH,aAAc,IAAKC,WAAY,GAAtD,CAAH,EACXG,EAAWV,EAAG,CAAAS,mBAAoB,EAAGE,OAAQ,IAAKC,OAAQ,IAAKN,aAAc,IAAKC,WAAY,GAAhF,CAAH,E,OAEXR,EAAEE,eAAeY,QAAQC,GACrB,CAAAC,cACI,CAAAC,YAAa,8BACbC,aAAc,6BACdC,cAAe,8DACfC,UAAW,cACXC,WAAY,kBACZC,QAAS,mCACTC,cAAe,qBACfC,OAAQ,QACRC,GAAI,KACJC,GAAI,GATJ,EAWJC,YACI,CAAAC,SAAUxB,EAAIyB,MAAMpB,CAAV,EACVqB,oBAAqB1B,EAAI2B,YAAYtB,CAAhB,EACrBuB,oBAAqB5B,EAAI6B,WAAW,IAAf,EACrBC,QAAS9B,EAAI+B,IAAI7B,CAAR,EACT8B,cAAehC,EAAI+B,IAAI1B,CAAR,EACf4B,UAAWjC,EAAIkC,QAAQhC,CAAZ,EACXiC,UAAWnC,EAAIoC,IAAIlC,CAAR,EACXmC,WAAYrC,EAAIsC,IAAIpC,CAAR,EACZqC,iBAAkBvC,EAAIwC,WAAWtC,CAAf,EAClBuC,sBAAuBzC,EAAI0C,kBAAkB,CAAA,EAAMxC,CAA5B,EACvByC,qBAAsB3C,EAAI0C,kBAAkB,CAAA,EAAOxC,CAA7B,EACtB0C,gBAAiB5C,EAAI6C,WAAW7C,EAAI+B,IAAJ,EAAW,QAASxB,CAAnC,EACjBuC,iBAAkB9C,EAAI6C,WAAW7C,EAAI+B,IAAJ,EAAW,MAAOxB,CAAjC,EAClBwC,kBAAmB/C,EAAI6C,WAAW7C,EAAI+B,IAAJ,EAAW,MAAOxB,CAAjC,EACnByC,kBAAmBhD,EAAI6C,WAAW7C,EAAIyB,MAAJ,EAAa,QAASlB,CAArC,EACnB0C,mBAAoBjD,EAAI6C,WAAW7C,EAAIyB,MAAJ,EAAa,MAAOlB,CAAnC,EACpB2C,oBAAqBlD,EAAI6C,WAAW7C,EAAIyB,MAAJ,EAAa,MAAOlB,CAAnC,CAhBrB,EAkBJ4C,UACI,CAAAC,UAAWxD,EAAEE,eAAeqD,UAAS,MACrCE,iBAAkBzD,EAAEE,eAAeqD,UAAU,kBAC7CG,iBAAkB1D,EAAEE,eAAeqD,UAAS,QAC5CI,2BAA4B3D,EAAEE,eAAeqD,UAAU,eACvDK,4BAA6B5D,EAAEE,eAAeqD,UAAU,cAJxD,CAhCJ,CATO,EARU,UAAlB,OAAOM,SAAyC,UAAjB,OAAOC,OACrC/D,EAAYgE,QAAQ,QAAR,CAAZ,EACqB,YAAjB,OAAOC,QAAyBA,OAAOC,IAC3CD,OAAO,CAAC,UAAWjE,CAAnB,EAGAA,EAAYmE,MAAZ","file":"pivot.ru.min.js","sourcesContent":["callWithJQuery = (pivotModule) ->\n    if typeof exports is \"object\" and typeof module is \"object\" # CommonJS\n        pivotModule require(\"jquery\")\n    else if typeof define is \"function\" and define.amd # AMD\n        define [\"jquery\"], pivotModule\n    # Plain browser env\n    else\n        pivotModule jQuery\n        \ncallWithJQuery ($) ->\n    nf = $.pivotUtilities.numberFormat\n    tpl = $.pivotUtilities.aggregatorTemplates\n\n    frFmt =    nf(thousandsSep: \" \", decimalSep: \",\")\n    frFmtInt = nf(digitsAfterDecimal: 0, thousandsSep: \" \", decimalSep: \",\")\n    frFmtPct = nf(digitsAfterDecimal: 1, scaler: 100, suffix: \"%\", thousandsSep: \" \", decimalSep: \",\")\n\n    $.pivotUtilities.locales.ru = \n        localeStrings:\n            renderError: \"Ошибка рендеринга страницы.\",\n            computeError: \"Ошибка табличных расчетов.\",\n            uiRenderError: \"Ошибка во время прорисовки и динамического расчета таблицы.\",\n            selectAll: \"Выбрать все\",\n            selectNone: \"Снять выделение\",\n            tooMany: \"(Выбрано слишком много значений)\",\n            filterResults: \"Возможные значения\",\n            totals: \"Всего\",\n            vs: \"на\",\n            by: \"с\"\n\n        aggregators: \n            \"Кол-во\": tpl.count(frFmtInt),\n            \"Кол-во уникальных\": tpl.countUnique(frFmtInt),\n            \"Список уникальных\": tpl.listUnique(\", \"),\n            \"Сумма\": tpl.sum(frFmt),\n            \"Сумма целых\": tpl.sum(frFmtInt),\n            \"Среднее\": tpl.average(frFmt),\n            \"Минимум\": tpl.min(frFmt),\n            \"Максимум\": tpl.max(frFmt),\n            \"Сумма по сумме\": tpl.sumOverSum(frFmt),\n            \"80% верхней границы\": tpl.sumOverSumBound80(true, frFmt),\n            \"80% нижней границы\": tpl.sumOverSumBound80(false, frFmt),\n            \"Доля по всему\": tpl.fractionOf(tpl.sum(), \"total\", frFmtPct),\n            \"Доля по строке\": tpl.fractionOf(tpl.sum(), \"row\", frFmtPct),\n            \"Доля по столбцу\": tpl.fractionOf(tpl.sum(), \"col\", frFmtPct),\n            \"Кол-во по всему\": tpl.fractionOf(tpl.count(), \"total\", frFmtPct),\n            \"Кол-во по строке\": tpl.fractionOf(tpl.count(), \"row\", frFmtPct),\n            \"Кол-во по столбцу\": tpl.fractionOf(tpl.count(), \"col\", frFmtPct)\n\n        renderers:\n            \"Таблица\": $.pivotUtilities.renderers[\"Table\"]\n            \"График столбцы\": $.pivotUtilities.renderers[\"Table Barchart\"] # TODO придумать более понятный вариант\n            \"Тепловая карта\": $.pivotUtilities.renderers[\"Heatmap\"]\n            \"Тепловая карта по строке\": $.pivotUtilities.renderers[\"Row Heatmap\"]\n            \"Тепловая карта по столбцу\": $.pivotUtilities.renderers[\"Col Heatmap\"]\n\n"]}