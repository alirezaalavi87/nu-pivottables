!function(){var t=function(D,E){var t=function(W={}){return function(t,e){var r,a,n,o,l,i,s,u,c,h,g,p,d,f,L,N,P,Q,T,b,y,x,v,j,z,m,U,w,A,k,C,S,$,q,B,H,_,F,K,R;if(null==(z=(e=D.extend(!0,{},{localeStrings:{vs:"vs",by:"by"},bb:{}},e)).bb).size&&(z.size={}),null==(z=e.bb.size).width&&(z.width=window.innerWidth),null==(z=e.bb.size).height&&(z.height=window.innerHeight),null==W.type&&(W.type="line"),null==W.horizontal&&(W.horizontal=!1),null==W.stacked&&(W.stacked=!1),0===(A=t.getRowKeys()).length&&A.push([]),0===(o=t.getColKeys()).length&&o.push([]),h=(()=>{for(var t=[],e=0,r=o.length;e<r;e++)c=o[e],t.push(c.join("-"));return t})(),z=0,u=t.aggregatorName,t.valAttrs.length&&(u+=`(${t.valAttrs.join(", ")})`),"scatter"===W.type)for(C={x:{},y:{},t:{}},B=null!=(B=($=t.rowAttrs.concat(t.colAttrs))[0])?B:"",v=null!=(v=$[1])?v:"",$=$.slice(2).join("-"),q=B,""!==v&&(q+=` ${e.localeStrings.vs} `+v),""!==$&&(q+=` ${e.localeStrings.by} `+$),g=0,L=A.length;g<L;g++)for(w=A[g],p=0,N=o.length;p<N;p++)n=o[p],null!=(r=t.getAggregator(w,n)).value()&&(_=w.concat(n),""===(S=_.slice(2).join("-"))&&(S="series"),null==(j=C.x)[S]&&(j[S]=[]),null==(j=C.y)[S]&&(j[S]=[]),R=null!=(j=_[0])?j:0,F=null!=(j=_[1])?j:0,C.y[S].push(R),C.x[S].push(F),null==(_=C.t)[S]&&(_[S]={}),null==(j=C.t[S])[F]&&(j[F]={}),C.t[S][F][R]=r.value());else{for(d=y=0,P=h.length;d<P;d++)y+=(F=h[d]).length;for(50<y&&(z=45),l=[],f=0,Q=A.length;f<Q;f++){for(m=[""===(U=(w=A[f]).join("-"))?u:U],b=0,T=o.length;b<T;b++)n=o[b],H=parseFloat(t.getAggregator(w,n).value()),isFinite(H)?m.push(H):m.push(null);l.push(m)}B=u,$=(W.horizontal?(v=t.rowAttrs.join("-"),t.colAttrs):(v=t.colAttrs.join("-"),t.rowAttrs)).join("-"),q=u,""!==v&&(q+=` ${e.localeStrings.vs} `+v),""!==$&&(q+=` ${e.localeStrings.by} `+$)}if(($=D("<p>",{style:"text-align: center; font-weight: bold"})).attr("dir","auto"),$.text(q),s=t.getAggregator([],[]).format,q={axis:{rotated:W.horizontal,y:{label:B,tick:{}},x:{label:v,tick:{rotate:z,multiline:!1}}},data:{type:W.type,order:null},tooltip:{grouped:!1},color:{pattern:["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac"]},clipPath:!1,resize:{auto:"parent",timer:!1}},q=D.extend(!0,{},q,e.bb),"scatter"===W.type){for(k in K={},x=0,i=[],C.x)x+=1,K[k]=k+"_x",i.push([k+"_x"].concat(C.x[k])),i.push([k].concat(C.y[k]));q.data.xs=K,q.data.columns=i,q.axis.x.tick={fit:!1},1===x&&(q.legend={show:!1}),q.tooltip.format={title:function(){return u},name:function(){return""},value:function(t,e,r,a,n){return{name:S,value:R,x:F}=n[0],s(C.t[S][F][R])}}}else q.axis.x.type="category",null==(B=q.axis.y.tick).format&&(B.format=function(t){return s(t)}),q.tooltip.format={value:function(t){return s(t)}},W.horizontal?(1===(v=(()=>{for(var t=[],e=0,r=l.length;e<r;e++)a=l[e],t.push(a.shift());return t})()).length&&v[0]===u&&(v=[""]),q.axis.x.categories=v,1===h.length&&""===h[0]&&(h=[u]),l.unshift(h),q.data.rows=l):(q.axis.x.categories=h,q.data.columns=l);return W.stacked&&(W.horizontal?q.data.groups=[(()=>{for(var t=[],e=0,r=o.length;e<r;e++)F=o[e],t.push(F.join("-"));return t})()]:q.data.groups=[(()=>{for(var t=[],e=0,r=A.length;e<r;e++)F=A[e],t.push(F.join("-"));return t})()]),z=D("<div>").appendTo(D(".pvtRendererArea")),q.bindto=z[0],E.generate(q),z.detach(),D("<div>").append($,z)}};return D.pivotUtilities.bb_renderers={"Horizontal Bar Chart":t({type:"bar",horizontal:!0}),"Horizontal Stacked Bar Chart":t({type:"bar",stacked:!0,horizontal:!0}),"Bar Chart":t({type:"bar"}),"Stacked Bar Chart":t({type:"bar",stacked:!0}),"Line Chart":t(),"Area Chart":t({type:"area",stacked:!0}),"Scatter Chart":t({type:"scatter"})}};"object"==typeof exports&&"object"==typeof module?t(require("jquery"),require("bb")):"function"==typeof define&&define.amd?define(["jquery","bb"],t):t(jQuery,bb)}.call(this);
//# sourceMappingURL=bb_renderers.min.js.map
