<!DOCTYPE html>
<html>

<head>
    <title>Pivot Demo</title>
    <!-- external libs from cdnjs -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.css"
        integrity="sha512-cznfNokevSG7QPA5dZepud8taylLdvgr0lDqw/FEZIhluFsSwyvS81CMnRdrNSKwbsmc43LtRd2/WMQV+Z85AQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- NOTE: C3 is only compatible with D3 v5 (it is abandoned), and d3 renderer is only
        -compatible with D3 v7 . So you can't use both of them at the same time-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"
        integrity="sha512-FHsFVKQ/T1KWJDGSbrUhTJyS1ph3eRrxI228ND0EGaEp6v4a/vGwPWd3Dtd/+9cI7ccofZvl/wulICEurHN1pg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"> </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.js"
        integrity="sha512-+IpCthlNahOuERYUSnKFjzjdKXIbJ/7Dd6xvUp+7bEw0Jp2dg6tluyxLs+zq9BMzZgrLv8886T4cBSqnKiVgUw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>

    <!-- PivotTable.js libs from ../dist -->
    <link rel="stylesheet" type="text/css" href="../dist/pivot.css">
    <script type="text/javascript" src="../dist/pivot.js"></script>
    <script type="text/javascript" src="../dist/c3_renderers.js"></script>
    <style>
        body {
            font-family: Verdana;
        }
    </style>

    <!-- optional: mobile support with jqueryui-touch-punch -->
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>

    <!-- for examples only! script to show code to user -->
    <script type="text/javascript" src="show_code.js"></script>
</head>

<body>
    <script type="text/javascript">
        // This example adds C3 chart renderers.
        $(function () {

            var derivers = $.pivotUtilities.derivers;
            var renderers = $.extend(
                $.pivotUtilities.renderers,
                $.pivotUtilities.c3_renderers,
            );

            $.getJSON("mps.json", function (mps) {
                $("#output").pivotUI(mps, {
                    renderers: renderers,
                    cols: ["Party"], rows: ["Province"],
                    rendererName: "Horizontal Stacked Bar Chart",
                    rowOrder: "value_z_to_a", colOrder: "value_z_to_a",
                    rendererOptions: {
                        c3: {
                            data: {
                                colors: {
                                    Liberal: '#dc3912', Conservative: '#3366cc', NDP: '#ff9900',
                                    Green: '#109618', 'Bloc Quebecois': '#990099'
                                }
                            }
                        }
                    }
                });
            });
        });
    </script>

    <p><a href="index.html">&laquo; back to PivotTable.js examples</a></p>

    <div id="output" style="margin: 30px;"></div>

</body>

</html>
